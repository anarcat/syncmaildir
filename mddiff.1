.\"Text automatically generated by txt2man
.TH untitled 1 "10 April 2009" "" "Sync Mail Dir documentation"
.SH NAME
\fBmddiff \fP- generates a diff from a maildir fingerprint to its actual status
.SH SYNOPSIS
.nf
.fam C
\fBmddiff\fP [--\fImax\fP-mailno \fImax\fP] [--\fIdb\fP-file \fIdb\fP] [\fB-v\fP|\fB--verbose\fP] [\fB--help\fP] \fIpath\fP \.\.\.
.fam T
.fi
.fam T
.fi
.SH DESCRIPTION
\fBmddiff\fP computes the delta from an old status of a maildir (previously
recorded in a support file, called \fIdb\fP file) and the current status, 
generating a set of commands (a diff) that a third party software can 
apply to synchronize a (eventually remote) copy of the maildir.
.PP
If paths is a list of regular files, \fBmddiff\fP outputs the sha1 of its header
and body separated by space.
.PP
If paths is a list of directories, \fBmddiff\fP outputs a list of actions a client
has to perform to syncronize a copy of the same maildirs. This set of actions
is relative to a previous status of the maildir stored in the \fIdb\fP file.
The input directories are traversed recursively, and every file encountered
is a potential mail message (if it contains no \n\n it is skipped).
.PP
Regular files and directories cannot be mixed in paths.
.PP
Every client must use a different \fIdb\fP-file, and the \fIdb\fP-file is strictly
related with the set of directories given as arguments, and should not
be used with a different directory set. Adding items to the directory
set is safe, while removing them may not do what you want (delete actions
are generated).
.SH OPTIONS
.TP
.B
--\fImax\fP-mailno \fImax\fP
Estimation of \fImax\fP mail message number (default 500000)
Decrease for small systems, it is increased
automatically if needed
.TP
.B
--\fIdb\fP-file \fIdb\fP
Name of the cache for the endpoint (default db.txt)
.TP
.B
\fB--verbose\fP
Increase program verbosity (printed on stderr)
.TP
.B
\fB-v\fP
Increase program verbosity (printed on stderr)
.TP
.B
\fB--help\fP
This help screen
.SH SEE ALSO
\fBsmd-client\fP(1), \fBsmd-server\fP(1), \fBsmd-pull\fP(1), \fBsmd-push\fP(1)
.SH BUGS

.SH AUTHOR
Enrico Tassi <gares@fettunta.org>
